function TonedJS(give_window){var toned={giveSup:function(donor,recipient){for(var i in recipient=recipient||{},donor)recipient[i]=donor[i];return recipient},giveSub:function(donor,recipient){for(var i in recipient=recipient||{},donor)recipient.hasOwnProperty(i)||(recipient[i]=donor[i]);return recipient},proliferate:function(recipient,donor,no_override){var setting,i;for(i in donor)no_override&&recipient.hasOwnProperty(i)||("object"==typeof(setting=donor[i])&&null!=setting?(recipient.hasOwnProperty(i)||(recipient[i]=setting instanceof Array?[]:{}),proliferate(recipient[i],setting,no_override)):recipient[i]=setting);return recipient},getFirst:function(obj,grabkey){for(var i in obj)return grabkey?i:obj[i]},getLast:function(obj,grabkey){for(var i in obj);return grabkey?i:obj[i]},followPath:function(obj,path,num){return null!=path[num]&&null!=obj[path[num]]?followPath(obj[path[num]],path,++num):obj},createElement:function(type){for(var elem=document.createElement(type||"div"),i=arguments.length;--i>0;)proliferate(elem,arguments[i]);return elem},classAdd:function(me,strin){me.className+=" "+strin},classRemove:function(me,strout){me.className=me.className.replace(new RegExp(" "+strout,"gm"),"")},elementSetPosition:function(me,left,top){null==left&&(left=me.left),null==top&&(top=me.top),proliferate(me,{left:left,top:top,style:{marginLeft:left+"px",marginTop:top+"px"}})},elementShiftLeft:function(me,left){me.left||(me.left=Number(me.style.marginLeft.replace("px",""))),me.style.marginLeft=round(me.left+=left)+"px"},elementShiftTop:function(me,top){me.top||(me.top=Number(me.style.marginLeft.replace("px",""))),me.style.marginTop=round(me.top+=top)+"px"},removeChildSafe:function(child,container){child&&(container=container||document.body).contains(child)&&container.removeChild(child)},findParentOfType:function(child,type){var parent=child.parentElement;return parent&&parent.nodeName!=type?findParentType(parent,type):parent},clearAllTimeouts:function(){for(var id=setTimeout((function(){}));id--;)clearTimeout(id)},stringTrim:function(me){return me.replace(/^\s+|\s+$/g,"")},stringOf:function(me,n){return 0==n?"":new Array(1+(n||1)).join(me)},stringHas:function(haystack,needle){return-1!=haystack.indexOf(needle)},stringHasI:function(haystack,needle){return-1!=haystack.toLowerCase().indexOf(needle.toLowerCase())},capitalizeFirst:function(str,n){return n=n||1,str.substr(0,n).toUpperCase()+str.substr(n).toLowerCase()},ArrayD:function(dim){if(1==arguments.length)return new Array(dim);var i,rargs=arrayMake(arguments),me=new Array(dim);for(rargs.shift(),i=dim-1;i>=0;--i)me[i]=ArrayD.apply(this,rargs);return me},arrayOf:function(me,n){n=n||1;for(var arr=new Array(n);n--;)arr[n]=me;return arr},arrayMake:function(me){return Array.prototype.slice.call(me)},arrayRange:function(a,b){for(var len=1+b-a,arr=new Array(len),val=a,i=0;i<len;)arr[i++]=val++;return arr},arrayShuffle:function(arr,start,end){start=start||0,end=end||arr.length;for(var temp,sloc,i=start;i<=end;++i)sloc=randInt(i+1),temp=arr[i],arr[i]=arr[sloc],arr[sloc]=temp;return arr},removeDuplicates:function(arr){var me,hasdup,len,i,j,output=[];for(i=0,len=arr.length;i<len;++i){for(me=arr[i],hasdup=!1,j=0;j<i;++j)if(arr[j]==me){hasdup=!0;break}hasdup||output.push(me)}return output},makeDigit:function(num,size,fill){return num=String(num),stringOf(fill||0,max(0,size-num.length))+num},roundDigit:function(n,d){return Number(d?~~(.5+n/d)*d:round(n))},sign:function(n){return n?n<0?-1:1:0},round:function(n){return~~(.5+n)},max:Math.max,min:Math.min,abs:Math.abs,pow:Math.pow,ceil:Math.ceil,floor:Math.floor,random:Math.random,randInt:function(n){return floor(Math.random()*(n||1))},signBool:function(n){return n>0},log:console.log.bind(console),now:Date.now};return give_window&&toned.giveSub(toned,window),toned}